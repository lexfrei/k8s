---
# K3s cluster upgrade playbook
# Wrapper for k3s.orchestration.upgrade with custom configuration
#
# Usage: ansible-playbook playbooks/k3s-upgrade.yaml
#
# This playbook:
# 1. Upgrades K3s version on all nodes
# 2. Preserves custom configuration (Cilium, vipalived, etc.)
# 3. Upgrades servers sequentially (prevents etcd quorum loss)
# 4. Upgrades agents in parallel
#
# IMPORTANT: Update k3s_version in group_vars/k3s_cluster.yaml before running

- name: Upgrade K3s cluster using k3s.orchestration collection
  ansible.builtin.import_playbook: k3s.orchestration.upgrade
